<!-- 
/*
 * 
 *                  xxxxxxx      xxxxxxx
 *                   x:::::x    x:::::x 
 *                    x:::::x  x:::::x  
 *                     x:::::xx:::::x   
 *                      x::::::::::x    
 *                       x::::::::x     
 *                       x::::::::x     
 *                      x::::::::::x    
 *                     x:::::xx:::::x   
 *                    x:::::x  x:::::x  
 *                   x:::::x    x:::::x 
 *              THE xxxxxxx      xxxxxxx TOOLKIT
 *                    
 *                  http://www.goXTK.com
 *                   
 * Copyright (c) 2012 The X Toolkit Developers <dev@goXTK.com>
 *                   
 *    The X Toolkit (XTK) is licensed under the MIT License:
 *      http://www.opensource.org/licenses/mit-license.php
 *
 * LESSON 09 - Points to Spheres
 *
 * Data kindly provided by Satrajit Gosh and Arno Klein (http://www.mindboggle.info)
 * THANKS!! 
 *
 */
-->

<html>
<head>
<title>XTK LESSON 09</title>

<script type="text/javascript" src="http://goXTK.com/xtk_nightly.js"></script>

<script type="text/javascript">
  
  var run = function() {
    
    // create a new renderer
    var r = new X.renderer('r');
    r.init();

    // vtk points
    var pits = new X.object();
    pits.load('../data/pits.vtk');
    
    // add the object
    r.add(pits);

    // the onShowtime function gets called automatically, just before the first rendering happens
    r.onShowtime = function() {
      
      pits.setVisible(false); // hide the points

      var points = pits.points().all(); // grab the actual coordinates as a flat 1d array
      var numberOfPoints = pits.points().count(); // in this example 411
      
      // loop through the points and create a new X.sphere for each point
      for (var i=0; i<numberOfPoints; i++) {
        
          var newSphere = new X.sphere([points[i], points[i+1], points[i+2]], 0.7);
          newSphere.setMagicMode(true); // it's magic..
          r.add(newSphere);
          
      }
      
    };
    
    // .. and render it
    r.render();    
    
  };
</script>

<body onload="run()">
  
  <!-- the container for the renderer -->
  <div id="r" style="background-color: #000000; width: 100%; height: 100%;"></div>
    
</body>